# =============================================================================
# FRONTEND
# =============================================================================
frontend:
  replicaCount: 2

  image:
    repository: ghcr.io/silverbeer/qualityplaybook-frontend
    tag: "7956e38" # frontend-tag
    pullPolicy: IfNotPresent

  service:
    type: ClusterIP
    port: 80
    targetPort: 80

  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 256Mi

  livenessProbe:
    httpGet:
      path: /health
      port: 80
    initialDelaySeconds: 10
    periodSeconds: 10

  readinessProbe:
    httpGet:
      path: /health
      port: 80
    initialDelaySeconds: 5
    periodSeconds: 5

# =============================================================================
# BACKEND
# =============================================================================
backend:
  replicaCount: 2

  image:
    repository: ghcr.io/silverbeer/qualityplaybook-backend
    tag: "7956e38" # backend-tag
    pullPolicy: IfNotPresent

  service:
    type: ClusterIP
    port: 8000
    targetPort: 8000

  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi

  env:
    - name: ENVIRONMENT
      value: "production"

  livenessProbe:
    httpGet:
      path: /health
      port: 8000
    initialDelaySeconds: 30
    periodSeconds: 10

  readinessProbe:
    httpGet:
      path: /health
      port: 8000
    initialDelaySeconds: 5
    periodSeconds: 5

# =============================================================================
# INGRESS
# =============================================================================
ingress:
  enabled: true
  className: nginx
  hosts:
    - qualityplaybook.dev
    - www.qualityplaybook.dev
  tls:
    secretName: qualityplaybook-tls
